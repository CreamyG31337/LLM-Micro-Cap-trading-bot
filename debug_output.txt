
=== STARTING POSITION PROCESSING ===
Number of positions to process: 21
Processing position: CNR.TO
  Calculating 1-day P&L for CNR.TO:
    Current price: 127.18
    Shares: 2.3115
    Snapshots count: 11
    Result: $-3.42
  5-day P&L calc for CNR.TO: opened_date=09-15-25
    CNR.TO: Cache lookup - found data: True
      CNR.TO: Cache validation passed (using Close column)
      CNR.TO: Has 11 days of data
        CNR.TO: Starting 5-day P&L calculation...
        CNR.TO: Price 5-days ago: $131.270004, current: $127.18
        CNR.TO: Calling pnl_calculator.calculate_period_pnl()...
        CNR.TO: P&L calculation returned: {'five_day_absolute_pnl': Decimal('-9.45'), 'five_day_percentage_pnl': Decimal('-0.0312'), 'current_price': Decimal('127.18'), 'five_day_start_price': Decimal('131.27'), 'shares': Decimal('2.31')}
        CNR.TO: Extracting P&L values: abs_pnl=-9.45, pct_pnl=-0.0312
        CNR.TO: Checking P&L values - abs_pnl is not None: True, pct_pnl is not None: True
Processing position: CRWD
  Calculating 1-day P&L for CRWD:
    Current price: 493.140015
    Shares: 0.7261
    Snapshots count: 11
    Result: $-6.83
  5-day P&L calc for CRWD: opened_date=09-10-25
    CRWD: Cache lookup - found data: True
      CRWD: Cache validation passed (using Close column)
      CRWD: Has 11 days of data
        CRWD: Starting 5-day P&L calculation...
        CRWD: Price 5-days ago: $444.769989, current: $493.140015
        CRWD: Calling pnl_calculator.calculate_period_pnl()...
        CRWD: P&L calculation returned: {'five_day_absolute_pnl': Decimal('35.12'), 'five_day_percentage_pnl': Decimal('0.1088'), 'current_price': Decimal('493.14'), 'five_day_start_price': Decimal('444.77'), 'shares': Decimal('0.73')}
        CRWD: Extracting P&L values: abs_pnl=35.12, pct_pnl=0.1088
        CRWD: Checking P&L values - abs_pnl is not None: True, pct_pnl is not None: True
Processing position: CTRN
  Calculating 1-day P&L for CTRN:
    Current price: 32.860001
    Shares: 13.2961
    Snapshots count: 11
    Result: $6.25
  5-day P&L calc for CTRN: opened_date=09-08-25
    CTRN: Cache lookup - found data: True
      CTRN: Cache validation passed (using Close column)
      CTRN: Has 11 days of data
        CTRN: Starting 5-day P&L calculation...
        CTRN: Price 5-days ago: $34.580002, current: $32.860001
        CTRN: Calling pnl_calculator.calculate_period_pnl()...
        CTRN: P&L calculation returned: {'five_day_absolute_pnl': Decimal('-22.87'), 'five_day_percentage_pnl': Decimal('-0.0497'), 'current_price': Decimal('32.86'), 'five_day_start_price': Decimal('34.58'), 'shares': Decimal('13.30')}
        CTRN: Extracting P&L values: abs_pnl=-22.87, pct_pnl=-0.0497
        CTRN: Checking P&L values - abs_pnl is not None: True, pct_pnl is not None: True
Processing position: DRX.TO
  Calculating 1-day P&L for DRX.TO:
    Current price: 8.16
    Shares: 90.5797
    Snapshots count: 11
    Result: $-18.12
  5-day P&L calc for DRX.TO: opened_date=09-16-25
    DRX.TO: Cache lookup - found data: True
      DRX.TO: Cache validation passed (using Close column)
      DRX.TO: Has 11 days of data
        DRX.TO: Starting 5-day P&L calculation...
        DRX.TO: Price 5-days ago: $8.28, current: $8.16
        DRX.TO: Calling pnl_calculator.calculate_period_pnl()...
        DRX.TO: P&L calculation returned: {'five_day_absolute_pnl': Decimal('-10.87'), 'five_day_percentage_pnl': Decimal('-0.0145'), 'current_price': Decimal('8.16'), 'five_day_start_price': Decimal('8.28'), 'shares': Decimal('90.58')}
        DRX.TO: Extracting P&L values: abs_pnl=-10.87, pct_pnl=-0.0145
        DRX.TO: Checking P&L values - abs_pnl is not None: True, pct_pnl is not None: True
Processing position: FTS.TO
  Calculating 1-day P&L for FTS.TO:
    Current price: 67.980003
    Shares: 2.1945
    Snapshots count: 11
    Result: $0.09
  5-day P&L calc for FTS.TO: opened_date=09-15-25
    FTS.TO: Cache lookup - found data: True
      FTS.TO: Cache validation passed (using Close column)
      FTS.TO: Has 11 days of data
        FTS.TO: Starting 5-day P&L calculation...
        FTS.TO: Price 5-days ago: $68.019997, current: $67.980003
        FTS.TO: Calling pnl_calculator.calculate_period_pnl()...
        FTS.TO: P&L calculation returned: {'five_day_absolute_pnl': Decimal('-0.09'), 'five_day_percentage_pnl': Decimal('-0.0006'), 'current_price': Decimal('67.98'), 'five_day_start_price': Decimal('68.02'), 'shares': Decimal('2.19')}
        FTS.TO: Extracting P&L values: abs_pnl=-0.09, pct_pnl=-0.0006
        FTS.TO: Checking P&L values - abs_pnl is not None: True, pct_pnl is not None: True
Processing position: GLO.TO
  Calculating 1-day P&L for GLO.TO:
    Current price: 0.73
    Shares: 735.2941
    Snapshots count: 11
    Result: $0.00
  5-day P&L calc for GLO.TO: opened_date=09-16-25
    GLO.TO: Cache lookup - found data: True
      GLO.TO: Cache validation passed (using Close column)
      GLO.TO: Has 11 days of data
        GLO.TO: Starting 5-day P&L calculation...
        GLO.TO: Price 5-days ago: $0.67, current: $0.73
        GLO.TO: Calling pnl_calculator.calculate_period_pnl()...
        GLO.TO: P&L calculation returned: {'five_day_absolute_pnl': Decimal('44.12'), 'five_day_percentage_pnl': Decimal('0.0896'), 'current_price': Decimal('0.73'), 'five_day_start_price': Decimal('0.67'), 'shares': Decimal('735.29')}
        GLO.TO: Extracting P&L values: abs_pnl=44.12, pct_pnl=0.0896
        GLO.TO: Checking P&L values - abs_pnl is not None: True, pct_pnl is not None: True
Processing position: GMIN.TO
  Calculating 1-day P&L for GMIN.TO:
    Current price: 26.610001
    Shares: 44.6354
    Snapshots count: 11
    Result: $57.58
  5-day P&L calc for GMIN.TO: opened_date=09-08-25
    GMIN.TO: Cache lookup - found data: True
      GMIN.TO: Cache validation passed (using Close column)
      GMIN.TO: Has 11 days of data
        GMIN.TO: Starting 5-day P&L calculation...
        GMIN.TO: Price 5-days ago: $24.75, current: $26.610001
        GMIN.TO: Calling pnl_calculator.calculate_period_pnl()...
        GMIN.TO: P&L calculation returned: {'five_day_absolute_pnl': Decimal('83.02'), 'five_day_percentage_pnl': Decimal('0.0752'), 'current_price': Decimal('26.61'), 'five_day_start_price': Decimal('24.75'), 'shares': Decimal('44.64')}
        GMIN.TO: Extracting P&L values: abs_pnl=83.02, pct_pnl=0.0752
        GMIN.TO: Checking P&L values - abs_pnl is not None: True, pct_pnl is not None: True
Processing position: KO
  Calculating 1-day P&L for KO:
    Current price: 66.209999
    Shares: 2.1131
    Snapshots count: 11
    Result: $-0.46
  5-day P&L calc for KO: opened_date=09-12-25
    KO: Cache lookup - found data: True
      KO: Cache validation passed (using Close column)
      KO: Has 11 days of data
        KO: Starting 5-day P&L calculation...
        KO: Price 5-days ago: $66.209999, current: $66.209999
        KO: Calling pnl_calculator.calculate_period_pnl()...
        KO: P&L calculation returned: {'five_day_absolute_pnl': Decimal('0.00'), 'five_day_percentage_pnl': Decimal('0.0000'), 'current_price': Decimal('66.21'), 'five_day_start_price': Decimal('66.21'), 'shares': Decimal('2.11')}
        KO: Extracting P&L values: abs_pnl=0.00, pct_pnl=0.0000
        KO: Checking P&L values - abs_pnl is not None: True, pct_pnl is not None: True
Processing position: LTRX
  Calculating 1-day P&L for LTRX:
    Current price: 4.92
    Shares: 21.2652
    Snapshots count: 11
    Result: $3.19
  5-day P&L calc for LTRX: opened_date=09-08-25
    LTRX: Cache lookup - found data: True
      LTRX: Cache validation passed (using Close column)
      LTRX: Has 11 days of data
        LTRX: Starting 5-day P&L calculation...
        LTRX: Price 5-days ago: $4.84, current: $4.92
        LTRX: Calling pnl_calculator.calculate_period_pnl()...
        LTRX: P&L calculation returned: {'five_day_absolute_pnl': Decimal('1.70'), 'five_day_percentage_pnl': Decimal('0.0165'), 'current_price': Decimal('4.92'), 'five_day_start_price': Decimal('4.84'), 'shares': Decimal('21.27')}
        LTRX: Extracting P&L values: abs_pnl=1.70, pct_pnl=0.0165
        LTRX: Checking P&L values - abs_pnl is not None: True, pct_pnl is not None: True
Processing position: MRK
  Calculating 1-day P&L for MRK:
    Current price: 80.400002
    Shares: 1.0
    Snapshots count: 11
    Result: $-1.11
  5-day P&L calc for MRK: opened_date=09-15-25
    MRK: Cache lookup - found data: True
      MRK: Cache validation passed (using Close column)
      MRK: Has 11 days of data
        MRK: Starting 5-day P&L calculation...
        MRK: Price 5-days ago: $81.019997, current: $80.400002
        MRK: Calling pnl_calculator.calculate_period_pnl()...
        MRK: P&L calculation returned: {'five_day_absolute_pnl': Decimal('-0.62'), 'five_day_percentage_pnl': Decimal('-0.0077'), 'current_price': Decimal('80.40'), 'five_day_start_price': Decimal('81.02'), 'shares': Decimal('1.00')}
        MRK: Extracting P&L values: abs_pnl=-0.62, pct_pnl=-0.0077
        MRK: Checking P&L values - abs_pnl is not None: True, pct_pnl is not None: True
Processing position: PLTR
  Calculating 1-day P&L for PLTR:
    Current price: 179.330002
    Shares: 3.1406
    Snapshots count: 11
    Result: $-9.61
  5-day P&L calc for PLTR: opened_date=09-10-25
    PLTR: Cache lookup - found data: True
      PLTR: Cache validation passed (using Close column)
      PLTR: Has 11 days of data
        PLTR: Starting 5-day P&L calculation...
        PLTR: Price 5-days ago: $171.210007, current: $179.330002
        PLTR: Calling pnl_calculator.calculate_period_pnl()...
        PLTR: P&L calculation returned: {'five_day_absolute_pnl': Decimal('25.50'), 'five_day_percentage_pnl': Decimal('0.0474'), 'current_price': Decimal('179.33'), 'five_day_start_price': Decimal('171.21'), 'shares': Decimal('3.14')}
        PLTR: Extracting P&L values: abs_pnl=25.50, pct_pnl=0.0474
        PLTR: Checking P&L values - abs_pnl is not None: True, pct_pnl is not None: True
Processing position: QCOM
  Calculating 1-day P&L for QCOM:
    Current price: 169.720001
    Shares: 0.6193
    Snapshots count: 11
    Result: $1.78
  5-day P&L calc for QCOM: opened_date=09-15-25
    QCOM: Cache lookup - found data: True
      QCOM: Cache validation passed (using Close column)
      QCOM: Has 11 days of data
        QCOM: Starting 5-day P&L calculation...
        QCOM: Price 5-days ago: $161.220001, current: $169.720001
        QCOM: Calling pnl_calculator.calculate_period_pnl()...
        QCOM: P&L calculation returned: {'five_day_absolute_pnl': Decimal('5.26'), 'five_day_percentage_pnl': Decimal('0.0527'), 'current_price': Decimal('169.72'), 'five_day_start_price': Decimal('161.22'), 'shares': Decimal('0.62')}
        QCOM: Extracting P&L values: abs_pnl=5.26, pct_pnl=0.0527
        QCOM: Checking P&L values - abs_pnl is not None: True, pct_pnl is not None: True
Processing position: RAIL
  Calculating 1-day P&L for RAIL:
    Current price: 9.94
    Shares: 74.3707
    Snapshots count: 11
    Result: $62.47
  5-day P&L calc for RAIL: opened_date=09-16-25
    RAIL: Cache lookup - found data: True
      RAIL: Cache validation passed (using Close column)
      RAIL: Has 11 days of data
        RAIL: Starting 5-day P&L calculation...
        RAIL: Price 5-days ago: $8.65, current: $9.94
        RAIL: Calling pnl_calculator.calculate_period_pnl()...
        RAIL: P&L calculation returned: {'five_day_absolute_pnl': Decimal('95.94'), 'five_day_percentage_pnl': Decimal('0.1491'), 'current_price': Decimal('9.94'), 'five_day_start_price': Decimal('8.65'), 'shares': Decimal('74.37')}
        RAIL: Extracting P&L values: abs_pnl=95.94, pct_pnl=0.1491
        RAIL: Checking P&L values - abs_pnl is not None: True, pct_pnl is not None: True
Processing position: SMH
  Calculating 1-day P&L for SMH:
    Current price: 322.170013
    Shares: 2.6624
    Snapshots count: 11
    Result: $17.20
  5-day P&L calc for SMH: opened_date=09-10-25
    SMH: Cache lookup - found data: True
      SMH: Cache validation passed (using Close column)
      SMH: Has 11 days of data
        SMH: Starting 5-day P&L calculation...
        SMH: Price 5-days ago: $307.170013, current: $322.170013
        SMH: Calling pnl_calculator.calculate_period_pnl()...
        SMH: P&L calculation returned: {'five_day_absolute_pnl': Decimal('39.94'), 'five_day_percentage_pnl': Decimal('0.0488'), 'current_price': Decimal('322.17'), 'five_day_start_price': Decimal('307.17'), 'shares': Decimal('2.66')}
        SMH: Extracting P&L values: abs_pnl=39.94, pct_pnl=0.0488
        SMH: Checking P&L values - abs_pnl is not None: True, pct_pnl is not None: True
Processing position: STLD
  Calculating 1-day P&L for STLD:
    Current price: 139.070007
    Shares: 1.6956
    Snapshots count: 11
    Result: $-0.34
  5-day P&L calc for STLD: opened_date=09-15-25
    STLD: Cache lookup - found data: True
      STLD: Cache validation passed (using Close column)
      STLD: Has 11 days of data
        STLD: Starting 5-day P&L calculation...
        STLD: Price 5-days ago: $131.580002, current: $139.070007
        STLD: Calling pnl_calculator.calculate_period_pnl()...
        STLD: P&L calculation returned: {'five_day_absolute_pnl': Decimal('12.70'), 'five_day_percentage_pnl': Decimal('0.0569'), 'current_price': Decimal('139.07'), 'five_day_start_price': Decimal('131.58'), 'shares': Decimal('1.70')}
        STLD: Extracting P&L values: abs_pnl=12.70, pct_pnl=0.0569
        STLD: Checking P&L values - abs_pnl is not None: True, pct_pnl is not None: True
Processing position: TRP.TO
  Calculating 1-day P&L for TRP.TO:
    Current price: 73.129997
    Shares: 2.4146
    Snapshots count: 11
    Result: $1.62
  5-day P&L calc for TRP.TO: opened_date=09-15-25
    TRP.TO: Cache lookup - found data: True
      TRP.TO: Cache validation passed (using Close column)
      TRP.TO: Has 11 days of data
        TRP.TO: Starting 5-day P&L calculation...
        TRP.TO: Price 5-days ago: $71.980003, current: $73.129997
        TRP.TO: Calling pnl_calculator.calculate_period_pnl()...
        TRP.TO: P&L calculation returned: {'five_day_absolute_pnl': Decimal('2.78'), 'five_day_percentage_pnl': Decimal('0.0160'), 'current_price': Decimal('73.13'), 'five_day_start_price': Decimal('71.98'), 'shares': Decimal('2.41')}
        TRP.TO: Extracting P&L values: abs_pnl=2.78, pct_pnl=0.0160
        TRP.TO: Checking P&L values - abs_pnl is not None: True, pct_pnl is not None: True
Processing position: URNJ
  Calculating 1-day P&L for URNJ:
    Current price: 28.915001
    Shares: 6.9499
    Snapshots count: 11
    Result: $8.31
  5-day P&L calc for URNJ: opened_date=09-12-25
    URNJ: Cache lookup - found data: True
      URNJ: Cache validation passed (using Close column)
      URNJ: Has 11 days of data
        URNJ: Starting 5-day P&L calculation...
        URNJ: Price 5-days ago: $27.15, current: $28.915001
        URNJ: Calling pnl_calculator.calculate_period_pnl()...
        URNJ: P&L calculation returned: {'five_day_absolute_pnl': Decimal('12.30'), 'five_day_percentage_pnl': Decimal('0.0652'), 'current_price': Decimal('28.92'), 'five_day_start_price': Decimal('27.15'), 'shares': Decimal('6.95')}
        URNJ: Extracting P&L values: abs_pnl=12.30, pct_pnl=0.0652
        URNJ: Checking P&L values - abs_pnl is not None: True, pct_pnl is not None: True
Processing position: URNM
  Calculating 1-day P&L for URNM:
    Current price: 59.990002
    Shares: 4.6781
    Snapshots count: 11
    Result: $8.14
  5-day P&L calc for URNM: opened_date=09-12-25
    URNM: Cache lookup - found data: True
      URNM: Cache validation passed (using Close column)
      URNM: Has 11 days of data
        URNM: Starting 5-day P&L calculation...
        URNM: Price 5-days ago: $57.209999, current: $59.990002
        URNM: Calling pnl_calculator.calculate_period_pnl()...
        URNM: P&L calculation returned: {'five_day_absolute_pnl': Decimal('13.01'), 'five_day_percentage_pnl': Decimal('0.0486'), 'current_price': Decimal('59.99'), 'five_day_start_price': Decimal('57.21'), 'shares': Decimal('4.68')}
        URNM: Extracting P&L values: abs_pnl=13.01, pct_pnl=0.0486
        URNM: Checking P&L values - abs_pnl is not None: True, pct_pnl is not None: True
Processing position: VEE.TO
  Calculating 1-day P&L for VEE.TO:
    Current price: 44.919998
    Shares: 7.4987
    Snapshots count: 11
    Result: $1.50
  5-day P&L calc for VEE.TO: opened_date=09-08-25
    VEE.TO: Cache lookup - found data: True
      VEE.TO: Cache validation passed (using Close column)
      VEE.TO: Has 11 days of data
        VEE.TO: Starting 5-day P&L calculation...
        VEE.TO: Price 5-days ago: $44.36095, current: $44.919998
        VEE.TO: Calling pnl_calculator.calculate_period_pnl()...
        VEE.TO: P&L calculation returned: {'five_day_absolute_pnl': Decimal('4.20'), 'five_day_percentage_pnl': Decimal('0.0126'), 'current_price': Decimal('44.92'), 'five_day_start_price': Decimal('44.36'), 'shares': Decimal('7.50')}
        VEE.TO: Extracting P&L values: abs_pnl=4.20, pct_pnl=0.0126
        VEE.TO: Checking P&L values - abs_pnl is not None: True, pct_pnl is not None: True
Processing position: WEB.V
  Calculating 1-day P&L for WEB.V:
    Current price: 2.86
    Shares: 227.2727
    Snapshots count: 11
    Result: $0.00
  5-day P&L calc for WEB.V: opened_date=09-10-25
    WEB.V: Cache lookup - found data: True
      WEB.V: Cache validation passed (using Close column)
      WEB.V: Has 11 days of data
        WEB.V: Starting 5-day P&L calculation...
        WEB.V: Price 5-days ago: $2.15, current: $2.86
        WEB.V: Calling pnl_calculator.calculate_period_pnl()...
        WEB.V: P&L calculation returned: {'five_day_absolute_pnl': Decimal('161.36'), 'five_day_percentage_pnl': Decimal('0.3302'), 'current_price': Decimal('2.86'), 'five_day_start_price': Decimal('2.15'), 'shares': Decimal('227.27')}
        WEB.V: Extracting P&L values: abs_pnl=161.36, pct_pnl=0.3302
        WEB.V: Checking P&L values - abs_pnl is not None: True, pct_pnl is not None: True
Processing position: XMA.TO
  Calculating 1-day P&L for XMA.TO:
    Current price: 35.939999
    Shares: 50.9667
    Snapshots count: 11
    Result: $42.81
  5-day P&L calc for XMA.TO: opened_date=09-10-25
    XMA.TO: Cache lookup - found data: True
      XMA.TO: Cache validation passed (using Close column)
      XMA.TO: Has 11 days of data
        XMA.TO: Starting 5-day P&L calculation...
        XMA.TO: Price 5-days ago: $34.360001, current: $35.939999
        XMA.TO: Calling pnl_calculator.calculate_period_pnl()...
        XMA.TO: P&L calculation returned: {'five_day_absolute_pnl': Decimal('80.53'), 'five_day_percentage_pnl': Decimal('0.0460'), 'current_price': Decimal('35.94'), 'five_day_start_price': Decimal('34.36'), 'shares': Decimal('50.97')}
        XMA.TO: Extracting P&L values: abs_pnl=80.53, pct_pnl=0.0460
        XMA.TO: Checking P&L values - abs_pnl is not None: True, pct_pnl is not None: True
