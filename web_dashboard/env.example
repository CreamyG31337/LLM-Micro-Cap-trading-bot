# Environment Variables Template
# Copy this file to .env and fill in your actual values
# NEVER commit .env to git - it's in .gitignore

# =====================================================
# SUPABASE CONFIGURATION
# =====================================================
# Get these from your Supabase project dashboard
# Settings > API > Project URL and publishable key
SUPABASE_URL=https://your-project-id.supabase.co
SUPABASE_PUBLISHABLE_KEY=your-publishable-key-here

# Legacy support - SUPABASE_ANON_KEY also works
# SUPABASE_ANON_KEY=your-anon-key-here

# Service role key (bypasses RLS - KEEP SECRET!)
# Get this from Supabase dashboard > Settings > API > service_role key
# WARNING: This key has full database access - never commit it!
# Required for admin scripts, debug operations, and SQL schema changes
# Also known as SUPABASE_SERVICE_ROLE_KEY
SUPABASE_SECRET_KEY=your-secret-key-here
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here

# =====================================================
# JWT SECURITY
# =====================================================
# Generate a strong secret key (32+ characters)
# You can use: python -c "import secrets; print(secrets.token_urlsafe(32))"
JWT_SECRET=your-super-secret-jwt-key-here

# =====================================================
# FLASK CONFIGURATION
# =====================================================
# Flask secret key for session management
# Generate a strong secret key (32+ characters)
FLASK_SECRET_KEY=your-flask-secret-key-here

# =====================================================
# DEVELOPMENT SETTINGS
# =====================================================
# Set to True for local development, False for production
FLASK_DEBUG=True
FLASK_ENV=development

# =====================================================
# OLLAMA AI INTEGRATION
# =====================================================
# Ollama API URL (use host.docker.internal for Docker containers, localhost for local dev)
OLLAMA_BASE_URL=http://host.docker.internal:11434
# Default model name for new users
OLLAMA_MODEL=mistral-nemo:12b
# Request timeout in seconds
OLLAMA_TIMEOUT=120
# Enable/disable AI assistant globally
OLLAMA_ENABLED=True

# =====================================================
# SEARXNG WEB SEARCH INTEGRATION
# =====================================================
# SearXNG API URL (use host.docker.internal for Docker containers, localhost for local dev)
SEARXNG_BASE_URL=http://host.docker.internal:8080
# Request timeout in seconds
SEARXNG_TIMEOUT=10
# Enable/disable web search globally
SEARXNG_ENABLED=True

# =====================================================
# LOCAL POSTGRES DATABASE (Research Articles)
# =====================================================
# Connection string for local Postgres Docker container
# Used for storing research articles scraped from websites
# Format: postgresql://username:password@host:port/database
# 
# IMPORTANT: The hostname depends on WHERE the application runs:
# 
# 1. From workstation (via Tailscale/SSH):
#    DATABASE_URL=postgresql://postgres:password@your-tailscale-hostname:5432/trading_db
#    (Use your Tailscale hostname - works from your workstation)
# 
# 2. From server host (app running on server, not in Docker):
#    DATABASE_URL=postgresql://postgres:password@localhost:5432/trading_db
#    (Use localhost - server connects to its own Postgres)
# 
# 3. From Docker container (app in Docker, Postgres in Docker):
#    DATABASE_URL=postgresql://postgres:password@postgres-17.5:5432/trading_db
#    (Use container name - Docker internal networking)
# 
# 4. From Docker container (app in Docker, Postgres on host):
#    DATABASE_URL=postgresql://postgres:password@host.docker.internal:5432/trading_db
#    (Use host.docker.internal - Docker to host connection)
# 
# Quick setup examples:
# 
# For bare metal (app running on host, no password):
# DATABASE_URL=postgresql://postgres@localhost:5432/trading_db
# 
# For remote access (Tailscale/SSH from workstation):
# DATABASE_URL=postgresql://postgres:password@your-tailscale-hostname:5432/trading_db
# 
# For Docker containers (app and Postgres both in Docker):
# DATABASE_URL=postgresql://postgres:password@postgres-17.5:5432/trading_db
# 
# Note: 
# - Password is REQUIRED for remote connections (Tailscale/SSH)
# - Password may not be required for localhost (trust authentication)
# - The container name 'postgres-17.5' should match your actual container name
# - Port 5432 is the default Postgres port
# - If connection fails, try the alternative hostnames above
# 
# Debug utilities: Use web_dashboard/debug/postgres_utils.py and postgres_shell.py

# =====================================================
# DEPLOYMENT NOTES
# =====================================================
# For Vercel deployment:
# 1. Set these variables in Vercel dashboard
# 2. Go to Settings > Environment Variables
# 3. Add each variable with its value
# 4. Redeploy your application
