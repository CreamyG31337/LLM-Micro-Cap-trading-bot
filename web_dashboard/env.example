# Environment Variables for Web Dashboard
# Copy this file to .env and fill in your values
# The .env file is gitignored and will not be committed to version control

# ============================================================
# Required: Supabase Configuration
# ============================================================
# Your Supabase project URL
SUPABASE_URL=https://your-project.supabase.co

# Supabase publishable/anon key (for user authentication)
SUPABASE_PUBLISHABLE_KEY=your-publishable-key-here
# Alternative name (for backwards compatibility)
SUPABASE_ANON_KEY=your-publishable-key-here

# Supabase service role/secret key (for admin operations, bypasses RLS)
# Only needed for admin scripts and debug operations
SUPABASE_SECRET_KEY=your-secret-key-here
# Alternative name (for backwards compatibility)
SUPABASE_SERVICE_ROLE_KEY=your-secret-key-here

# ============================================================
# Required: Application Domain
# ============================================================
# Your application domain (e.g., "ai-trading.drifting.space" or "drifting.space")
# Used for:
# - Magic link and password reset email redirects
# - Cookie domain settings
# - Caddyfile configuration
APP_DOMAIN=your-domain.com

# Optional: Override magic link redirect URL (defaults to https://{APP_DOMAIN}/auth_callback.html)
# MAGIC_LINK_REDIRECT_URL=https://your-domain.com/auth_callback.html

# ============================================================
# Optional: Research Database (Postgres)
# ============================================================
# Postgres connection string for research articles storage
# Format: postgresql://user:password@host:port/database
# For Docker containers connecting to host Postgres: use host.docker.internal
# Example: postgresql://postgres:password@host.docker.internal:5432/trading_db
# RESEARCH_DATABASE_URL=postgresql://user:password@host:port/database

# ============================================================
# Optional: Financial Modeling Prep API
# ============================================================
# API key for congress trading module
# Get from: https://site.financialmodelingprep.com/developer/docs/
# Required for congress_trades scheduled job
# FMP_API_KEY=your-fmp-api-key-here

# ============================================================
# Optional: Ollama AI Configuration
# ============================================================
# Ollama API URL (default: http://host.docker.internal:11434 for Docker)
# OLLAMA_BASE_URL=http://host.docker.internal:11434

# Default AI model (default: mistral-nemo:12b)
# OLLAMA_MODEL=mistral-nemo:12b

# Enable AI assistant (default: true)
# OLLAMA_ENABLED=true

# ============================================================
# Optional: FlareSolverr Configuration
# ============================================================
# FlareSolverr URL for bypassing Cloudflare (default: http://host.docker.internal:8191)
# Used by social sentiment and congress trades scrapers
# FLARESOLVERR_URL=http://host.docker.internal:8191

# ============================================================
# Optional: WebAI Service Configuration (Gemini 3 Pro)
# ============================================================
# Cookie-based authentication for web AI service
# Option 1: JSON string containing all cookies
# WEBAI_COOKIES_JSON={"__Secure-1PSID":"...","__Secure-1PSIDTS":"..."}
#
# Option 2: Individual cookie values (alternative to JSON)
# WEBAI_SECURE_1PSID=your-secure-1psid-value
# WEBAI_SECURE_1PSIDTS=your-secure-1psidts-value
#
# Note: For local development, cookies can be loaded from webai_cookies.json file
# For production, use environment variables (set in Woodpecker secrets)

# ============================================================
# Optional: Research Report Server Upload (Local Development)
# ============================================================
# Server configuration for uploading PDFs when running locally
# Only needed if you want to automatically upload processed PDFs to server
# RESEARCH_SERVER_HOST=your-server.com
# RESEARCH_SERVER_USER=your-username
# RESEARCH_SERVER_PATH=/home/user/ai-trading/Research
# RESEARCH_SSH_KEY_PATH=C:/path/to/your/ssh/key  # Optional, for key-based auth

# ============================================================
# Build Configuration (set by CI/CD)
# ============================================================
# Build timestamp (automatically set by Woodpecker CI)
# Used for cache invalidation
# BUILD_TIMESTAMP=2024-01-01 12:00 UTC
